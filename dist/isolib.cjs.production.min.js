"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var t=require("react"),n=e(t),r=e(require("antd/lib/breadcrumb")),o=e(require("antd/lib/select")),a=e(require("lodash/debounce")),i=e(require("antd/lib/table")),l=require("@ant-design/icons"),c=e(require("antd/lib/button")),u=e(require("classnames"));function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)t.indexOf(n=a[r])>=0||(o[n]=e[n]);return o}var f=["fetchOptions","defaultOptions","defaultValue","onChange"];function p(e){var t="isolib-table isolib-table-icon";return e.important?n.createElement(l.BellFilled,{className:t+"--selected"}):n.createElement(l.BellOutlined,{className:t+"--no-selected"})}var b=["columns","dataSource","hidePagination","loading","onChange","onRowClick","pagination","showImportantIcon"],m=function(e){var t=e.style;return n.createElement("div",{className:"isolib-text-collapse isolib-text-collapse-container",style:void 0===t?{}:t},e.children)},h=function(e){return n.createElement(c,{type:"link",className:"isolib-text-collapse-button",ref:e.innerRef,hidden:e.hidden,onClick:e.onClick,style:e.collapsed?{position:"absolute"}:{}},e.children)},v=function(e){var t=e.collapsed,r=e.space,o=e.children;return n.createElement("div",{ref:e.innerRef,style:t&&r?{paddingRight:r}:{},className:u("isolib-text-collapse-internal",{"isolib-text-collapse-internal--collapsed":t})},o)};exports.Breadcrumb=function(e){var t=e.breadcrumbNameMap,o=e.onClick,a=Object.keys(t),i=function(e){return function(t){return t.preventDefault(),o(e),!1}};return n.createElement(r,{style:{margin:"16px 0"}},a.map((function(e){return n.createElement(r.Item,{key:e,href:"#",onClick:i(e)},t[e])})))},exports.SelectAsync=function(e){var r=e.fetchOptions,i=e.defaultOptions,l=e.defaultValue,c=e.onChange,u=d(e,f),s=t.useState((function(){return l})),p=s[0],b=s[1],m=t.useState((function(){return i})),h=m[0],v=m[1],g=t.useState(!1),y=g[0],x=g[1],C=t.useRef(0),E=t.useMemo((function(){return a((function(e){C.current+=1;var t=C.current;x(!0),r(e).then((function(e){t===C.current&&(x(!1),v(e))}))}),800)}),[r]);return n.createElement(o,Object.assign({labelInValue:!0,filterOption:!1,onSearch:E,onFocus:E},u,{loading:y,value:p,onChange:function(e,t){b(e),c&&c(e,t)},options:h}))},exports.Table=function(e){var r=e.columns,o=e.dataSource,a=e.hidePagination,l=void 0!==a&&a,c=e.loading,u=void 0===c||c,f=e.onChange,m=e.onRowClick,h=e.pagination,v=e.showImportantIcon,g=void 0!==v&&v,y=d(e,b),x=t.useState(""),C=x[0],E=x[1],O=[];g&&O.push({dataIndex:"important",key:"important",width:40,render:function(e,t){return n.createElement(p,Object.assign({},t))}});var k,S=function(e){return function(){m&&m(e)}};return n.createElement("div",{className:"isolib-table"},n.createElement(i,Object.assign({size:"small",scroll:{y:"100%"}},y,{rowSelection:{type:"checkbox"},columns:[].concat(O,r),dataSource:o,pagination:!l&&s({},h,{showSizeChanger:!0,position:["bottomCenter"]}),onChange:f,loading:u,rowKey:function(e){return e._id},rowClassName:(k=C,function(e){var t=["isolib-table"];return!1===e.read&&t.push("isolib-table--unread"),k===e._id&&t.push("isolib-table--hover"),t.join(" ")}),onRow:function(e){return{onClick:S(e),onMouseEnter:function(){return E(e._id)},onMouseLeave:function(){return E("")}}}})))},exports.TextCollapse=function(e){var r=e.children,o=e.textSpace,a=e.textLess,i=e.textMore,l=e.style,c=void 0===l?{}:l,u=t.useState(!0),s=u[0],d=u[1],f=t.useState(!0),p=f[0],b=f[1],g=t.useRef(null),y=t.useRef(null),x=t.useRef(null);return t.useEffect((function(){y.current&&x.current&&b(x.current.offsetWidth+o<y.current.offsetWidth)}),[]),n.createElement(m,{style:c},n.createElement(v,{collapsed:s,innerRef:y,space:o},n.createElement("span",{ref:x},r),n.createElement(h,{innerRef:g,collapsed:s,onClick:function(){d(!s)},hidden:p},s?i:a)))};
//# sourceMappingURL=isolib.cjs.production.min.js.map
