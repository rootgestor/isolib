"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var t=require("@ant-design/icons"),n=require("react"),r=e(n),i=e(require("antd/lib/breadcrumb")),o=e(require("antd/lib/select")),a=e(require("lodash/debounce")),l=e(require("antd/lib/table")),c=e(require("antd/lib/button")),s=e(require("classnames")),u={__proto__:null,Icons:t,CustomIcon:function(e){return r.createElement("img",{style:{width:"25px",height:"25px",padding:"5px"},src:e.src})}};function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t.indexOf(n=o[r])>=0||(i[n]=e[n]);return i}var p=["fetchOptions","defaultOptions","defaultValue","onChange"];function m(e){var n="isolib-table-msg isolib-table-msg-icon";return e.important?r.createElement(t.BellFilled,{className:n+"--selected"}):r.createElement(t.BellOutlined,{className:n+"--no-selected"})}var b=["columns","dataSource","hidePagination","loading","onChange","onRowClick","pagination","isMessage"],h=function(e){var t=e.style;return r.createElement("div",{className:"isolib-text-collapse isolib-text-collapse-container",style:void 0===t?{}:t},e.children)},g=function(e){return r.createElement(c,{type:"link",className:"isolib-text-collapse-button",ref:e.innerRef,hidden:e.hidden,onClick:e.onClick,style:e.collapsed?{position:"absolute"}:{}},e.children)},v=function(e){var t=e.collapsed,n=e.space,i=e.children;return r.createElement("div",{ref:e.innerRef,style:t&&n?{paddingRight:n}:{},className:s("isolib-text-collapse-internal",{"isolib-text-collapse-internal--collapsed":t})},i)};exports.Breadcrumb=function(e){var t=e.breadcrumbNameMap,n=e.onClick,o=Object.keys(t),a=function(e){return function(t){return t.preventDefault(),n(e),!1}};return r.createElement(i,{style:{margin:"16px 0"}},o.map((function(e){return r.createElement(i.Item,{key:e,href:"#",onClick:a(e)},t[e])})))},exports.Icons=u,exports.SelectAsync=function(e){var t=e.fetchOptions,i=e.defaultOptions,l=e.defaultValue,c=e.onChange,s=f(e,p),u=n.useState((function(){return l})),d=u[0],m=u[1],b=n.useState((function(){return i})),h=b[0],g=b[1],v=n.useState(!1),x=v[0],y=v[1],C=n.useRef(0),E=n.useMemo((function(){return a((function(e){C.current+=1;var n=C.current;y(!0),t(e).then((function(e){n===C.current&&(y(!1),g(e))}))}),800)}),[t]);return r.createElement(o,Object.assign({labelInValue:!0,filterOption:!1,onSearch:E,onFocus:E},s,{loading:x,value:d,onChange:function(e,t){m(e),c&&c(e,t)},options:h}))},exports.Table=function(e){var t=e.columns,i=e.dataSource,o=e.hidePagination,a=void 0!==o&&o,c=e.loading,s=void 0===c||c,u=e.onChange,p=e.onRowClick,h=e.pagination,g=e.isMessage,v=void 0!==g&&g,x=f(e,b),y=n.useState(""),C=y[0],E=y[1],O=[];v&&O.push({dataIndex:"important",key:"important",width:40,render:function(e,t){return r.createElement(m,Object.assign({},t))}});var k,S=function(e){return function(){p&&p(e)}};return r.createElement("div",{className:"isolib-table "+(v?"isolib-table-msg":"")},r.createElement(l,Object.assign({size:"middle",scroll:{y:"100%"}},x,{rowSelection:{type:"checkbox"},columns:[].concat(O,t),dataSource:i,pagination:!a&&d({},h,{showSizeChanger:!0,position:["bottomCenter"]}),onChange:u,loading:s,rowKey:function(e){return e._id},rowClassName:v?(k=C,function(e){var t=["isolib-table-msg"];return!1===e.read&&t.push("isolib-table-msg--unread"),k===e._id&&t.push("isolib-table-msg--hover"),t.join(" ")}):"",onRow:function(e){return{onClick:S(e),onMouseEnter:function(){return E(e._id)},onMouseLeave:function(){return E("")}}}})))},exports.TextCollapse=function(e){var t=e.children,i=e.textSpace,o=e.textLess,a=e.textMore,l=e.style,c=void 0===l?{}:l,s=n.useState(!0),u=s[0],d=s[1],f=n.useState(!0),p=f[0],m=f[1],b=n.useRef(null),x=n.useRef(null),y=n.useRef(null);return n.useEffect((function(){x.current&&y.current&&m(!!(y.current.offsetWidth+i<x.current.offsetWidth))}),[i]),r.createElement(h,{style:c},r.createElement(v,{collapsed:u,innerRef:x,space:i},r.createElement("span",{ref:y},t),r.createElement(g,{innerRef:b,collapsed:u,onClick:function(){d(!u)},hidden:p},u?a:o)))};
//# sourceMappingURL=isolib.cjs.production.min.js.map
