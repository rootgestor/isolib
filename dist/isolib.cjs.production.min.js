"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var t=require("react"),n=e(t),r=e(require("antd/lib/breadcrumb")),i=e(require("antd/lib/select")),a=e(require("lodash/debounce")),o=e(require("antd/lib/table")),l=require("@ant-design/icons"),c=e(require("antd/lib/button")),s=e(require("classnames"));function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t.indexOf(n=a[r])>=0||(i[n]=e[n]);return i}var f=["fetchOptions","defaultOptions","defaultValue","onChange"];function p(e){var t="isolib-table-msg isolib-table-msg-icon";return e.important?n.createElement(l.BellFilled,{className:t+"--selected"}):n.createElement(l.BellOutlined,{className:t+"--no-selected"})}var m=["columns","dataSource","hidePagination","loading","onChange","onRowClick","pagination","isMessage"],b=function(e){var t=e.style;return n.createElement("div",{className:"isolib-text-collapse isolib-text-collapse-container",style:void 0===t?{}:t},e.children)},h=function(e){return n.createElement(c,{type:"link",className:"isolib-text-collapse-button",ref:e.innerRef,hidden:e.hidden,onClick:e.onClick,style:e.collapsed?{position:"absolute"}:{}},e.children)},g=function(e){var t=e.collapsed,r=e.space,i=e.children;return n.createElement("div",{ref:e.innerRef,style:t&&r?{paddingRight:r}:{},className:s("isolib-text-collapse-internal",{"isolib-text-collapse-internal--collapsed":t})},i)};exports.Breadcrumb=function(e){var t=e.breadcrumbNameMap,i=e.onClick,a=Object.keys(t),o=function(e){return function(t){return t.preventDefault(),i(e),!1}};return n.createElement(r,{style:{margin:"16px 0"}},a.map((function(e){return n.createElement(r.Item,{key:e,href:"#",onClick:o(e)},t[e])})))},exports.SelectAsync=function(e){var r=e.fetchOptions,o=e.defaultOptions,l=e.defaultValue,c=e.onChange,s=d(e,f),u=t.useState((function(){return l})),p=u[0],m=u[1],b=t.useState((function(){return o})),h=b[0],g=b[1],v=t.useState(!1),y=v[0],x=v[1],C=t.useRef(0),E=t.useMemo((function(){return a((function(e){C.current+=1;var t=C.current;x(!0),r(e).then((function(e){t===C.current&&(x(!1),g(e))}))}),800)}),[r]);return n.createElement(i,Object.assign({labelInValue:!0,filterOption:!1,onSearch:E,onFocus:E},s,{loading:y,value:p,onChange:function(e,t){m(e),c&&c(e,t)},options:h}))},exports.Table=function(e){var r=e.columns,i=e.dataSource,a=e.hidePagination,l=void 0!==a&&a,c=e.loading,s=void 0===c||c,f=e.onChange,b=e.onRowClick,h=e.pagination,g=e.isMessage,v=void 0!==g&&g,y=d(e,m),x=t.useState(""),C=x[0],E=x[1],O=[];v&&O.push({dataIndex:"important",key:"important",width:40,render:function(e,t){return n.createElement(p,Object.assign({},t))}});var k,S=function(e){return function(){b&&b(e)}};return n.createElement("div",{className:v?"isolib-table-msg":""},n.createElement(o,Object.assign({size:"middle",scroll:{y:"100%"}},y,{rowSelection:{type:"checkbox"},columns:[].concat(O,r),dataSource:i,pagination:!l&&u({},h,{showSizeChanger:!0,position:["bottomCenter"]}),onChange:f,loading:s,rowKey:function(e){return e._id},rowClassName:v?(k=C,function(e){var t=["isolib-table-msg"];return!1===e.read&&t.push("isolib-table-msg--unread"),k===e._id&&t.push("isolib-table-msg--hover"),t.join(" ")}):"",onRow:function(e){return{onClick:S(e),onMouseEnter:function(){return E(e._id)},onMouseLeave:function(){return E("")}}}})))},exports.TextCollapse=function(e){var r=e.children,i=e.textSpace,a=e.textLess,o=e.textMore,l=e.style,c=void 0===l?{}:l,s=t.useState(!0),u=s[0],d=s[1],f=t.useState(!0),p=f[0],m=f[1],v=t.useRef(null),y=t.useRef(null),x=t.useRef(null);return t.useEffect((function(){y.current&&x.current&&m(!!(x.current.offsetWidth+i<y.current.offsetWidth))}),[i]),n.createElement(b,{style:c},n.createElement(g,{collapsed:u,innerRef:y,space:i},n.createElement("span",{ref:x},r),n.createElement(h,{innerRef:v,collapsed:u,onClick:function(){d(!u)},hidden:p},u?o:a)))};
//# sourceMappingURL=isolib.cjs.production.min.js.map
