"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var t=require("react"),n=e(t),r=require("@ant-design/icons"),a=e(require("antd/lib/breadcrumb")),i=e(require("antd/lib/select")),o=e(require("lodash/debounce")),l=e(require("antd/lib/table")),c=e(require("antd/lib/button")),s=e(require("classnames"));function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)t.indexOf(n=i[r])>=0||(a[n]=e[n]);return a}var f=["src"],p=["fetchOptions","defaultOptions","defaultValue","onChange"];function m(e){var t="isolib-table-msg isolib-table-msg-icon";return e.important?n.createElement(r.BellFilled,{className:t+"--selected"}):n.createElement(r.BellOutlined,{className:t+"--no-selected"})}var b=["columns","dataSource","hidePagination","loading","onChange","onRowClick","pagination","isMessage"],g=function(e){var t=e.style;return n.createElement("div",{className:"isolib-text-collapse isolib-text-collapse-container",style:void 0===t?{}:t},e.children)},h=function(e){return n.createElement(c,{type:"link",className:"isolib-text-collapse-button",ref:e.innerRef,hidden:e.hidden,onClick:e.onClick,style:e.collapsed?{position:"absolute"}:{}},e.children)},v=function(e){var t=e.collapsed,r=e.space,a=e.children;return n.createElement("div",{ref:e.innerRef,style:t&&r?{paddingRight:r}:{},className:s("isolib-text-collapse-internal",{"isolib-text-collapse-internal--collapsed":t})},a)};exports.Breadcrumb=function(e){var t=e.onClick;return n.createElement(a,{style:{margin:"16px 0"}},e.breadcrumbNameMap.map((function(e){var r,i=e.href;return n.createElement(a.Item,{key:i,href:"#",onClick:(r=i,function(e){return e.preventDefault(),r&&t(r),!1})},e.label)})))},exports.Icon=function(e){var t=e.src,a=d(e,f),i=r[t];return i?n.createElement(i,Object.assign({},a)):n.createElement("img",{style:u({padding:"5px"},a),src:t})},exports.SelectAsync=function(e){var r=e.fetchOptions,a=e.defaultOptions,l=e.defaultValue,c=e.onChange,s=d(e,p),u=t.useState((function(){return l})),f=u[0],m=u[1],b=t.useState((function(){return a})),g=b[0],h=b[1],v=t.useState(!1),y=v[0],x=v[1],E=t.useRef(0),C=t.useMemo((function(){return o((function(e){E.current+=1;var t=E.current;x(!0),r(e).then((function(e){t===E.current&&(x(!1),h(e))}))}),800)}),[r]);return n.createElement(i,Object.assign({labelInValue:!0,filterOption:!1,onSearch:C,onFocus:C},s,{loading:y,value:f,onChange:function(e,t){m(e),c&&c(e,t)},options:g}))},exports.Table=function(e){var r=e.columns,a=e.dataSource,i=e.hidePagination,o=void 0!==i&&i,c=e.loading,s=void 0===c||c,f=e.onChange,p=e.onRowClick,g=e.pagination,h=e.isMessage,v=void 0!==h&&h,y=d(e,b),x=t.useState(""),E=x[0],C=x[1],O=[];v&&O.push({dataIndex:"important",key:"important",width:40,render:function(e,t){return n.createElement(m,Object.assign({},t))}});var S,k=function(e){return function(){p&&p(e)}};return n.createElement("div",{className:"isolib-table "+(v?"isolib-table-msg":"")},n.createElement(l,Object.assign({size:"middle",scroll:{y:"100%"}},y,{rowSelection:{type:"checkbox"},columns:[].concat(O,r),dataSource:a,pagination:!o&&u({},g,{showSizeChanger:!0,position:["bottomCenter"]}),onChange:f,loading:s,rowKey:function(e){return e._id},rowClassName:v?(S=E,function(e){var t=["isolib-table-msg"];return!1===e.read&&t.push("isolib-table-msg--unread"),S===e._id&&t.push("isolib-table-msg--hover"),t.join(" ")}):"",onRow:function(e){return{onClick:k(e),onMouseEnter:function(){return C(e._id)},onMouseLeave:function(){return C("")}}}})))},exports.TextCollapse=function(e){var r=e.children,a=e.textSpace,i=e.textLess,o=e.textMore,l=e.style,c=void 0===l?{}:l,s=t.useState(!0),u=s[0],d=s[1],f=t.useState(!0),p=f[0],m=f[1],b=t.useRef(null),y=t.useRef(null),x=t.useRef(null);return t.useEffect((function(){y.current&&x.current&&m(!!(x.current.offsetWidth+a<y.current.offsetWidth))}),[a]),n.createElement(g,{style:c},n.createElement(v,{collapsed:u,innerRef:y,space:a},n.createElement("span",{ref:x},r),n.createElement(h,{innerRef:b,collapsed:u,onClick:function(){d(!u)},hidden:p},u?o:i)))};
//# sourceMappingURL=isolib.cjs.production.min.js.map
